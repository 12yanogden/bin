#!/bin/bash

validate_git_repository() {
    local pwd=$(pwd)
    
    if [ ! -d ".git" ]; then
        echo "Not a git repository: $pwd"
        exit 1
    fi
}

is_dirty() {    
    # Validate we're in a git repository
    validate_git_repository
    
    # Check if there are uncommitted changes
    if [ -z "$(git status --porcelain 2>/dev/null)" ]; then
        echo 0
    else
        echo 1
    fi
}

is_dirty "$@"
